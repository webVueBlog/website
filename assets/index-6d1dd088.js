import{a as A}from"./product-all-info-ff5fb211.js";import{v as D,g as F,j as K,i as O,r as a,C as j,y as C,a as c,c as o,b as V,w as z,f as t,F as y,d as b,t as _,k as w,q as Q,s as U,_ as G}from"./index-f4233455.js";import{A as H}from"./adaptive-container-114e24a6.js";import{S as J}from"./search-bar-8d7a1ae0.js";import{P as W}from"./pager-e3857f2f.js";const X=D({id:"searchInfo",state:()=>({currentSearchResultList:[],currentPage:1,startPage:0,endPage:20}),actions:{addCurrentSearchResultList(n){this.currentSearchResultList!==null&&this.currentSearchResultList.length>0||(this.currentSearchResultList=n)},updateCurrentSearchResultList(n){this.currentSearchResultList=n},updatePageData(n,d,v){this.currentPage=n,this.startPage=d,this.endPage=v}}}),x=n=>(Q("data-v-1bb9a29b"),n=n(),U(),n),Y={class:"container"},Z={class:"search-bar"},ee={class:"search-result-container"},te={class:"select-search-series-container"},se={class:"select-series-item"},le={class:"reselect-container"},ae=x(()=>t("div",{class:"split-line-series"},null,-1)),ne=["onClick"],ue={class:"select-series-item",style:{"margin-top":"28px"}},re={class:"reselect-container"},ce=x(()=>t("h1",null,"排序",-1)),oe=x(()=>t("div",{class:"split-line-series"},null,-1)),ie=["onClick"],de={class:"search-result-list-container"},ve={class:"reselect-container result-title-container"},he={class:"result-item-container"},_e={class:"search-result-item"},me={class:"pager"},T=20,pe=F({__name:"index",setup(n){const d=X(),v=K();O();function R(e,l){g.value[0].menuList.forEach(s=>{s.isSelected=!1}),e.isSelected=!0}function E(){g.value[0].menuList.forEach(e=>{e.isSelected=!1}),g.value[0].menuList[0].isSelected=!0}function B(e){S.value.forEach(l=>{l.isSelected=!1}),e.isSelected=!0}function N(){S.value.forEach(e=>{e.isSelected=!1}),S.value[0].isSelected=!0}function q(e){setTimeout(()=>{i.value=e},500)}const i=a(""),I=a([]);a("");const f=j(()=>I.value.filter(e=>{const l=i.value.toLowerCase().trim(),s=e.productName.toLowerCase().includes(l),m=e.productModel.toLowerCase().includes(l);return s||m}));I.value=A.productInfo,i.value=v.query.search,C(v,e=>{v.path==="/search"&&v.query.search&&(i.value=v.query.search,console.log("当前是"+i.value))});const h=a([]),g=a([{seriesTitle:"类别",isSelected:!0,menuList:[{menuTitle:"全部分类",menuValue:0,isSelected:!0},{menuTitle:"Led显示屏",menuValue:1,isSelected:!1},{menuTitle:"显示屏配件",menuValue:2,isSelected:!1},{menuTitle:"铝合金箱体",menuValue:3,isSelected:!1},{menuTitle:"新闻",menuValue:4,isSelected:!1}]}]),S=a([{orderTitle:"相关性",keyValue:1,isSelected:!0},{orderTitle:"日期",keyValue:2,isSelected:!1}]),P=a(1),L=a(0),k=a(0);C(f,e=>{L.value=e.length,k.value=Math.ceil(e.length/20),console.log("startPage"+u.value,"endPage"+r.value),h.value.length<20&&(u.value=0,r.value=20)}),C(h.value,e=>{h.value.length<20&&(d.startPage=0,d.endPage=20,u.value=0,r.value=20)});const u=a(0),r=a(20);function M(e){P.value=e,u.value=(P.value-1)*T,r.value=u.value+T,r.value>L.value&&(r.value=L.value),d.startPage=u.value,d.endPage=r.value,d.currentPage=P.value,h.value=f.value.slice(u.value,r.value)}return C(i,e=>{h.value=f.value.slice(u.value,r.value),e&&console.log("newValue")}),(e,l)=>(c(),o("div",Y,[V(H,null,{default:z(()=>[t("div",Z,[V(J,{btn:"查询",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=s=>i.value=s),placeholder:"请输入",maxlength:"64",onSearch:q},null,8,["modelValue"])]),t("div",ee,[t("div",te,[(c(!0),o(y,null,b(g.value,(s,m)=>(c(),o("div",se,[t("div",le,[t("h1",null,_(s.seriesTitle),1),t("div",{class:"reselect-button",onClick:l[1]||(l[1]=p=>E())},"重置")]),ae,(c(!0),o(y,null,b(s.menuList,(p,$)=>(c(),o("div",{class:"select-menu-item",onClick:fe=>R(p,$)},[t("div",{class:w(["select-dot",{"selected-dot":p.isSelected}])},null,2),t("p",null,_(p.menuTitle),1)],8,ne))),256))]))),256)),t("div",ue,[t("div",re,[ce,t("div",{class:"reselect-button",onClick:l[2]||(l[2]=s=>N())},"重置")]),oe,(c(!0),o(y,null,b(S.value,(s,m)=>(c(),o("div",{class:"select-menu-item",onClick:p=>B(s)},[t("div",{class:w(["select-dot",{"selected-dot":s.isSelected}])},null,2),t("p",null,_(s.orderTitle),1)],8,ie))),256))])]),t("div",de,[t("div",ve,[t("h1",null,_(f.value.length)+" 个结果",1)]),t("div",he,[(c(!0),o(y,null,b(h.value,(s,m)=>(c(),o("div",_e,[t("h1",null,_(u.value+m+1)+": "+_(s.productName),1)]))),256)),t("div",me,[V(W,{onChangeCurrentPage:M,"current-page":P.value,total:k.value,"product-count":L.value},null,8,["current-page","total","product-count"])])])])])]),_:1})]))}});const ye=G(pe,[["__scopeId","data-v-1bb9a29b"]]);export{ye as default};

import{v as _e,g as be,M as ye,i as we,j as Ne,r as o,m as ke,o as Ce,z as Ie,a as i,c as r,p as u,f as e,b as $,w as P,F as J,d as G,k as f,t as g,A as T,B as A,D as m,N as $e,J as Q,l as Ee,q as Se,s as Be,_ as Pe}from"./index-48be6247.js";import{t as Te}from"./test-human-303c3bb5.js";const Ve=_e({id:"userInfo",state:()=>({userInfo:{userId:0}}),actions:{addCurrentUser(_){this.userInfo=_},removeCurrentUser(){this.userInfo={}}}}),a=_=>(Se("data-v-9bb3e350"),_=_(),Be(),_),Le={class:"container"},Re=a(()=>e("div",{class:"wechat-qrcode-container"},[e("h1",null,"微信登录"),e("img",{src:"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/remote-experience-qr.png"}),e("p",null,"使用微信扫一扫登录全德视讯")],-1)),ze=[Re],De={class:"login-center-container"},Ue={class:"info-container"},We=a(()=>e("div",{class:"header"},null,-1)),xe={class:"login-view-container"},Me={class:"login-card"},qe={class:"login-card-header"},Ae=a(()=>e("img",{src:"https://tentech.oss-cn-shenzhen.aliyuncs.com/logo/tentech-text-logo.png"},null,-1)),Fe={key:0,class:"switch-button-container"},Oe=["onClick"],Ke=a(()=>e("div",{class:"line"},[e("div",{class:"line-swiper"})],-1)),Ye={key:1,class:"split-line"},He={key:2,class:"input-container"},Ze={key:0,class:"if-input-container"},je={class:"phone-number-input"},Je={class:"region"},Ge={key:0,class:"format-error"},Qe=a(()=>e("p",null,"下一步",-1)),Xe=[Qe],es={key:1,class:"if-input-container"},ss={class:"verification-code-container"},ts={class:"verification-code"},os=["onUpdate:modelValue","onInput","onKeydown"],ns={class:"agree-policy"},ls=a(()=>e("div",{class:"policy-container"},[e("p",null,[m("同意并遵守全德视讯"),e("a",{href:"/"},"隐私政策"),m("和 "),e("a",{href:"/"},"使用条款"),m(" 未注册的手机号验证成功后将自动创建全德账号")])],-1)),as=a(()=>e("p",null,"登录",-1)),is=[as],rs={class:"registered"},cs=a(()=>e("p",null,"新用户？",-1)),us=a(()=>e("div",{class:"other-login-type"},[e("div",{class:"other-line"}),e("p",null,"或"),e("div",{class:"other-line"})],-1)),ds=a(()=>e("img",{src:"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/wechat-icon-login.svg"},null,-1)),vs=a(()=>e("p",null,"微信登录",-1)),ps=[ds,vs],hs=Q('<div class="agree-container" data-v-9bb3e350><p data-v-9bb3e350>若继续，则表示同意</p><a href="/" data-v-9bb3e350>隐私政策</a><p data-v-9bb3e350>和</p><a href="/" data-v-9bb3e350>使用条款</a></div><div class="split-line2" data-v-9bb3e350></div><div class="contact" data-v-9bb3e350><p data-v-9bb3e350>登录遇到问题?</p><a href="/" data-v-9bb3e350>常见问题</a><a href="/" data-v-9bb3e350>联系客服</a></div>',3),gs={key:3,class:"input-container"},ms={key:0,class:"loginNameErrorMessage"},fs={class:"input-password"},_s=["type"],bs=["src"],ys={key:1,class:"passwordErrorMessage"},ws=a(()=>e("div",{class:"captcha pt-6"},null,-1)),Ns=a(()=>e("p",null,"登录",-1)),ks=[Ns],Cs={class:"registered"},Is=a(()=>e("p",null,"新用户？",-1)),$s=a(()=>e("div",{class:"other-login-type"},[e("div",{class:"other-line"}),e("p",null,"或"),e("div",{class:"other-line"})],-1)),Es=a(()=>e("img",{src:"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/wechat-icon-login.svg"},null,-1)),Ss=a(()=>e("p",null,"微信登录",-1)),Bs=[Es,Ss],Ps=Q('<div class="agree-container" data-v-9bb3e350><p data-v-9bb3e350>若继续，则表示同意</p><a href="/" data-v-9bb3e350>隐私政策</a><p data-v-9bb3e350>和</p><a href="/" data-v-9bb3e350>使用条款</a></div><div class="split-line2" data-v-9bb3e350></div><div class="contact" data-v-9bb3e350><p data-v-9bb3e350>登录遇到问题?</p><a href="/" data-v-9bb3e350>常见问题</a><a href="/" data-v-9bb3e350>联系客服</a></div>',3),Ts={class:"copy-right bottom-info"},Vs=a(()=>e("a",{href:"/"},"隐私政策",-1)),Ls=a(()=>e("a",{href:"/"},"使用条款",-1)),Rs=a(()=>e("p",null,[e("a",{class:"icp",href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank"},"粤ICP备2021034388号"),e("a",{class:"beian",href:"https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44030702004694",target:"_blank"},[e("img",{src:"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/beian.png"}),m("粤公网安备 44030702004694号")])],-1)),zs=be({__name:"index",setup(_){const X=Ve(),{proxy:b}=ye(),ee=we(),se=Ne(),V=o(!1),L=o(!1),R=o(""),E=o(!1),y=o(60),S=o(!1),z=o(!1);o(0);const D=o(!1),te=o(!1),w=o(!1),N=o(!1),B=o(!1);o(!1);const F=o("");o(0),o(0);const p=o({phoneNumBer:""}),d=o(["","","",""]),c=o({loginName:"",passWord:""}),U=o({title:"登录全德视讯",description:"深圳市全德视讯有限公司成立于2015年，是一家创新型专注于生产LED 显示屏的公司，拥有自己的实力工厂，我司通过提供可靠的LED显示屏产品及LED显示屏配件，24小时咨询热线: 0755 27192472",keywords:"led显示屏 ,led显示屏箱体，led显示屏工厂、显示屏生产厂家、led拼接屏，led户外显示屏，led室内屏，led显示屏租赁、led全彩显示屏、led显示屏压铸箱体，led模组、租赁led显示屏"});ke(()=>{document.title=U.value.title;const s=document.querySelector('meta[name="description"]');s&&s.setAttribute("content",U.value.description);const t=document.querySelector('meta[name="keywords"]');t&&t.setAttribute("content",U.value.keywords)});const k=o(!1),C=o(""),I=o(!1),W=o("");o("");const O=o(86),x=o(2),K=o([{type:2,buttonTitle:"密码登录",isSelected:!0},{type:1,buttonTitle:"短信登录",isSelected:!1}]);o({phoneNumber:[{required:!0,message:"手机号不能为空",trigger:"blur"},{required:!0,message:"手机格式不正确",trigger:"blur"}],loginName:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]});const oe=[{userId:1,typeNum:1,userType:"user",userTypeName:"用户",userNickName:"全德视讯用户",userName:"12345678900",password:"12345678900",avatar:"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/cust2.png",path:"/"},{userId:2,typeNum:2,userType:"service",userTypeName:"陪护",userNickName:"全德视讯护理员",userName:"12345678911",password:"12345678911",avatar:"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/cust2.png",path:"/"},{userId:3,typeNum:"3",userType:"admin",userTypeName:"管理员",userNickName:"全德视讯数据管理员",userName:"12345678922",password:"12345678922",avatar:"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/cust2.png",path:"/"}];function ne(){if(k.value=!q(c.value.loginName),I.value=!Z(c.value.passWord),!k.value&&!I.value){console.log("账户和密码合法,现在开始跳转");const s=c.value.loginName,t=c.value.passWord,n=oe.find(l=>l.userName===s);n?n.password===t?(console.log("Login successful"),ee.push({path:n.path}),X.addCurrentUser(n)):(C.value="密码错误",console.log("Password incorrect")):(C.value="用户不存在",console.log("User not found"))}}function le(s){x.value=s.type,K.value.forEach(t=>{t.isSelected=!1}),s.isSelected=!0}function ae(){D.value=!1,y.value=60,Y()}function Y(){let s=setInterval(()=>{y.value>0?y.value--:(D.value=!0,clearInterval(s))},1e3)}function M(){S.value=!S.value,S.value?(document.body.style.overflowY="hidden",document.body.style.paddingRight=ie()+"px"):(document.body.style.overflowY="auto",document.body.style.paddingRight="0")}function ie(){const s=document.createElement("div");s.style.width="100px",s.style.height="100px",s.style.overflow="scroll",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const t=s.offsetWidth-s.clientWidth;return document.body.removeChild(s),t}function re(s,t){const n=t.key;n==="Delete"||n==="Backspace"?ce(s):(n==="ArrowLeft"||n==="ArrowRight")&&ue(s,n)}function ce(s){console.log(`Delete key pressed in input at index ${s}.`),d.value[s]!==""?d.value[s]="":s-1>=0&&b.$refs[`codeInput${s-1}`][0].focus()}function ue(s,t){console.log(`${t} arrow key pressed in input at index ${s}.`),t==="ArrowRight"?s+1<d.value.length&&b.$refs[`codeInput${s+1}`][0].focus():s-1>=0&&b.$refs[`codeInput${s-1}`][0].focus()}function de(){q(c.value.loginName)?console.log("密码有效现在开始跳转1"):console.log("密码无效现在开始跳转1")}function H(s){const n=/^[0-9]{11}$/.test(s),l=O.value===86?n:!0;return n&&l?(console.log("有效的手机号"),!0):(console.log("无效的手机号"),R.value=p.value.phoneNumBer===""?"手机号码为空":"手机号码格式不正确",b.$refs.pleaseEnterPhone.style.color=p.value.phoneNumBer===""?"#F00":"#000",R.value==="手机号码格式不正确"&&(L.value=!0),!1)}function q(s){const t=s,n=/^[0-9]{11}$/,l=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,v=n.test(t),h=l.test(t);return v?(console.log("Valid phone number:",t),!0):h?(console.log("Valid email:",t),!0):(c.value.loginName===""?C.value="邮箱或手机号为空":C.value="请输入正确的手机号或邮箱",console.log("Invalid account:",t),!1)}function Z(s){const t=/^.{6,}$/;return console.log("Password:",c.value.passWord),console.log("Pattern test result:",t.test(c.value.passWord)),t.test(s)?(console.log("密码合法"),!0):(c.value.passWord===""?W.value="密码为空":W.value="密码不合法",console.log("密码不合法"),!1)}function ve(){H(p.value.phoneNumBer)&&w.value?(w.value=!0,N.value=!0,Y()):((p.value.phoneNumBer||p.value.phoneNumBer==="")&&(V.value=!0),w.value&&(E.value=!0))}function j(){V.value=!1,L.value=!1,k.value=!1}o(null),o(null),o(null),o(null),o(null),o(null);function pe(s,t){if(console.log("当前的codeInputRefs"),t.length>1)for(let n=0;n<t.length;n++)console.log("zii",d.value.length),s+n<d.value.length&&(d.value[s+n]=t[n],b.$refs[`codeInput${s+n}`][0].focus());else this.code[s]=t}function he(){d.value.every(s=>s.length===1&&!isNaN(s.length))?(console.log("验证码有效"),te.value=!0):console.log("验证码无效")}function ge(s){console.log("Received message from child component:",s.message),w.value=!0,E.value=!1}function me(s){console.log("Received message from child component:",s.message),w.value=!0}function fe(s){return`${s.getFullYear()}`}return Ce(()=>{const s=se.query.callback;if(typeof s=="string"){const t=s.replace("vue","");console.log(`Callback URL: ${t}`),F.value=t,console.log("Callback URL: ",F.value)}}),Ie(()=>{}),(s,t)=>{const n=Ee("router-link");return i(),r("div",Le,[S.value?(i(),r("div",{key:0,class:"wechat-type-login-container",onClick:t[0]||(t[0]=l=>M())},ze)):u("",!0),e("div",De,[e("div",Ue,[We,e("div",xe,[e("div",Me,[e("div",qe,[$(n,{to:"/"},{default:P(()=>[Ae]),_:1})]),N.value?u("",!0):(i(),r("div",Fe,[(i(!0),r(J,null,G(K.value,(l,v)=>(i(),r("div",{class:f(["switch-button",{"item-selected":l.isSelected}]),key:v,onClick:h=>le(l)},[e("p",null,g(l.buttonTitle),1),Ke],10,Oe))),128))])),N.value?u("",!0):(i(),r("div",Ye)),x.value===1?(i(),r("div",He,[N.value?u("",!0):(i(),r("div",Ze,[e("p",{ref:"pleaseEnterPhone",class:f({showPhoneIsEmpty:V.value})},"请输入手机号",2),e("div",je,[e("div",Je,[e("p",null,"+"+g(O.value),1)]),T(e("input",{type:"text",ref:"phoneNumberInput","onUpdate:modelValue":t[1]||(t[1]=l=>p.value.phoneNumBer=l),onClick:j,onBlur:t[2]||(t[2]=l=>H(p.value.phoneNumBer))},null,544),[[A,p.value.phoneNumBer]])]),L.value?(i(),r("p",Ge,g(R.value),1)):u("",!0),$(Te,{onTimeOut:me,onSuccessEvent:ge,ref:"childComponentRef"},null,512),E.value?(i(),r("p",{key:1,class:f(["no-test-tip",{testYourIsHuman:E.value}])},"请按提示完成验证!",2)):u("",!0),e("div",{class:"next-setup",onClick:ve},Xe)])),N.value?(i(),r("div",es,[e("div",ss,[e("p",null,"验证码已发送到"+g(p.value.phoneNumBer),1),e("div",ts,[(i(!0),r(J,null,G(d.value,(l,v)=>(i(),r("div",{class:"code-item",key:v},[T(e("input",{type:"text",class:"code-input",ref_for:!0,ref:`codeInput${v}`,"onUpdate:modelValue":h=>d.value[v]=h,onInput:h=>pe(v,h.target.value),onKeydown:h=>re(v,h),onBlur:he},null,40,os),[[A,d.value[v]]])]))),128))]),e("div",{class:f(["resend-button",{"resend-code":D.value}]),onClick:ae},g(y.value===0?"":y.value)+"重新发送 ",3)]),e("div",ns,[e("div",{class:f(["select-button",{"agree-button":z.value}]),onClick:t[3]||(t[3]=l=>z.value=!z.value)},null,2),ls]),e("div",{class:"login-button",onClick:de},is)])):u("",!0),e("div",rs,[cs,$(n,{to:"/sign-up"},{default:P(()=>[m("注册全德视讯账号")]),_:1})]),us,e("div",{class:"wechat-login-container",onClick:t[4]||(t[4]=l=>M())},ps),hs])):u("",!0),x.value===2?(i(),r("div",gs,[e("p",{class:f(["loginName",{"login-name-error":k.value}])},"邮箱/手机号",2),T(e("input",{class:"phone-or-email",type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>c.value.loginName=l),onClick:j,onBlur:t[6]||(t[6]=l=>q(c.value.loginName))},null,544),[[A,c.value.loginName]]),k.value?(i(),r("p",ms,g(C.value),1)):u("",!0),e("p",{class:f({"password-error":I.value})},"密码",2),e("div",fs,[T(e("input",{class:"password-input",onClick:t[7]||(t[7]=l=>I.value=!1),type:B.value?"text":"password","onUpdate:modelValue":t[8]||(t[8]=l=>c.value.passWord=l),onBlur:t[9]||(t[9]=l=>Z(c.value.passWord))},null,40,_s),[[$e,c.value.passWord]]),e("img",{src:B.value?"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/passwordVisible.svg":"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/passwordNoVisible.svg",onClick:t[10]||(t[10]=l=>B.value=!B.value)},null,8,bs)]),I.value?(i(),r("p",ys,g(W.value),1)):u("",!0),$(n,{to:"/reset-password"},{default:P(()=>[m("忘记密码?")]),_:1}),ws,e("div",{class:"login-button",onClick:ne},ks),e("div",Cs,[Is,$(n,{to:"/sign-up"},{default:P(()=>[m("注册全德视讯账号")]),_:1})]),$s,e("div",{class:"wechat-login-container",onClick:t[11]||(t[11]=l=>M())},Bs),Ps])):u("",!0)])]),e("div",Ts,[e("p",null,[m("Copyright © 2018-"+g(fe(new Date))+" Lucky fortune 全德视讯 版权所有 ",1),Vs,Ls]),Rs])])])])}}});const Ws=Pe(zs,[["__scopeId","data-v-9bb3e350"]]);export{Ws as default};

import{_ as a,a as l,c as d,f as n,t as c,k as o,q as r,s as h}from"./index-c1c6427b.js";const u={data(){return{beginClientX:0,mouseMoveState:!1,maxWidth:"",confirmWords:"向右拖动滑块验证",confirmSuccess:!1}},methods:{mouseDownFn:function(e){this.confirmSuccess||(e.preventDefault&&e.preventDefault(),this.mouseMoveState=!0,this.beginClientX=e.clientX)},successFunction(){this.confirmSuccess=!0,this.confirmWords="验证通过",window.addEventListener?(document.getElementsByTagName("html")[0].removeEventListener("mousemove",this.mouseMoveFn),document.getElementsByTagName("html")[0].removeEventListener("mouseup",this.moseUpFn)):document.getElementsByTagName("html")[0].removeEventListener("mouseup",()=>{}),document.getElementsByClassName("drag_text")[0].style.color="#fff",document.getElementsByClassName("handler")[0].style.left=this.maxWidth+"px",document.getElementsByClassName("drag_bg")[0].style.width=this.maxWidth+"px",this.$emit("success-event",{message:"true"}),setTimeout(()=>{this.maxWidth=this.$refs.dragDiv.clientWidth-this.$refs.moveDiv.clientWidth,this.beginClientX=0,this.mouseMoveState=!1,this.confirmWords="向右拖动滑块验证",this.confirmSuccess=!1,document.getElementsByClassName("drag_text")[0].style.color="#706e6e",document.getElementsByClassName("handler")[0].style.left="0px",document.getElementsByClassName("drag_bg")[0].style.width="0px",document.getElementsByTagName("html")[0].addEventListener("mousemove",this.mouseMoveFn),document.getElementsByTagName("html")[0].addEventListener("mouseup",this.moseUpFn),this.$emit("time-out",{message:"false"})},6e4)},mouseMoveFn(e){if(this.mouseMoveState){let t=e.clientX-this.beginClientX;console.log("距离",t),t>0&&t<=this.maxWidth?(document.getElementsByClassName("handler")[0].style.left=t+"px",document.getElementsByClassName("drag_bg")[0].style.width=t+"px"):t>this.maxWidth&&this.successFunction()}},moseUpFn(e){this.mouseMoveState=!1;var t=e.clientX-this.beginClientX;t<this.maxWidth&&(document.getElementsByClassName("handler")[0].style.left="0px",document.getElementsByClassName("drag_bg")[0].style.width="0px")}},mounted(){this.maxWidth=this.$refs.dragDiv.clientWidth-this.$refs.moveDiv.clientWidth,console.log("maxWidth",this.maxWidth),document.getElementsByTagName("html")[0].addEventListener("mousemove",this.mouseMoveFn),document.getElementsByTagName("html")[0].addEventListener("mouseup",this.moseUpFn)}},g=e=>(r("data-v-3494dcbf"),e=e(),h(),e),f=g(()=>n("div",{class:"drag_bg"},null,-1)),v={class:"drag_text"};function p(e,t,_,y,s,i){return l(),d("div",{class:o(["test-human-container",{"ok-bg":s.confirmSuccess}]),ref:"dragDiv"},[f,n("div",v,c(s.confirmWords),1),n("div",{class:o(["handler handler_bg",{handler_ok_bg:s.confirmSuccess}]),style:{position:"absolute",top:"0",left:"0"},onMousedown:t[0]||(t[0]=m=>i.mouseDownFn(m)),ref:"moveDiv"},null,34)],2)}const x=a(u,[["render",p],["__scopeId","data-v-3494dcbf"]]);export{x as t};

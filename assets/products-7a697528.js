import{v as j,g as H,i as G,j as J,h as K,r,m as B,x as O,y as N,a as _,c as P,f as t,t as f,u as m,F as I,d as E,n as k,b as w,w as Q,k as R,p as W,q as X,s as Y,_ as Z}from"./index-c1c6427b.js";import{a as h}from"./product-all-info-ff5fb211.js";import{A as ee}from"./adaptive-container-5d085d96.js";import{B as te}from"./bread-crumb-9819d91e.js";import{P as se}from"./pager-ee596e03.js";const ae=j({id:"pageInfo",state:()=>({currentProductList:[],currentPage:1,startPage:0,endPage:9}),actions:{addCurrentProductList(i){this.currentProductList!==null&&this.currentProductList.length>0||(this.currentProductList=i)},updateProductList(i){this.currentProductList=i},updatePageData(i,e,C){this.currentPage=i,this.startPage=e,this.endPage=C}}}),x=i=>(X("data-v-1e66fa52"),i=i(),Y(),i),ue={class:"container"},le={class:"banner"},re={class:"products-desc"},ne=x(()=>t("div",{class:"white-line"},null,-1)),ce={class:"series-select-container"},oe=x(()=>t("img",{src:"https://tentech.oss-cn-shenzhen.aliyuncs.com/svg/right-arrow-white.svg"},null,-1)),ie=["onClick"],de={class:"display-wrap"},ve={class:"series-directory"},he={class:"desc-title"},pe={class:"series-menus"},ge=["onClick"],_e=x(()=>t("img",{src:"https://tentech.oss-cn-shenzhen.aliyuncs.com/icon/right-arrow-icon1.svg"},null,-1)),Pe={class:"product-content"},fe={class:"product-list-container"},me=["onClick"],Le={class:"img-container"},Se=["src"],Me=x(()=>t("div",{class:"mask"},null,-1)),be=x(()=>t("div",{class:"gotoDetail"},[t("img",{src:"https://tentech.oss-cn-shenzhen.aliyuncs.com/icon/forward-o.svg"})],-1)),xe={key:0,class:"is-hot-sell"},ye={class:"product-title"},Ce={class:"pager"},T=9,Ie=H({__name:"products",setup(i){const e=ae(),C=G(),M=J(),{t:p,locale:Ee}=K(),L=r(!1),b=r("");function $(a){C.push({path:`/product/${a.productModel}`})}const c=r(h.productAllInfo),y=r(e.currentPage);h.productAllInfo[0].subMenus.length;const n=r(e.startPage),l=r(e.endPage),A=r({title:"产品中心",description:"产品中心"});B(()=>{document.title=A.value.title;const a=document.querySelector('meta[name="description"]');a&&a.setAttribute("content",A.value.description)});const v=r([]),D=r(h.productAllInfo[0].subMenus.slice(n.value,l.value)),d=r(0),S=r(0);function U(a){y.value=a,n.value=(y.value-1)*T,l.value=n.value+T,l.value>d.value&&(l.value=d.value),e.startPage=n.value,e.endPage=l.value,e.currentPage=y.value,v.value=e.currentProductList.slice(n.value,l.value)}function q(a,u){a.isSelected,c.value.forEach(s=>{s.isSelected=!1,s.isExpand=!1,s.subMenus.forEach(g=>{g.isSelected=!1})}),a.subMenus[0].isSelected=!0,a.isSelected=!0,a.isExpand=!0,D.value=a.subMenus,e.updateProductList(a.subMenus),e.currentProductList.length<9&&(e.startPage=0,e.endPage=9,n.value=0,l.value=9),v.value=e.currentProductList.slice(n.value,l.value),d.value=e.currentProductList.length,console.log("产品对应的页数"+Math.ceil(e.currentProductList.length/9)),S.value=Math.ceil(e.currentProductList.length/9),L.value=!L.value,b.value=a.seriesTitle}O(()=>{S.value=Math.ceil(e.currentProductList.length/9)});const o=r(M.query.seriesId),V=r(h.seriesProductMap.get(M.query.seriesId));N(v.value,a=>{v.value.length<9&&(e.startPage=0,e.endPage=9,n.value=0,l.value=9)});const F=r([{imgUrl:"https://tentech.oss-cn-shenzhen.aliyuncs.com/icon/home-icon.svg",name:"home",router:"/"},{imgUrl:"",name:"Products",router:"/products"}]);return B(()=>{if(M.path==="/products"&&o.value){c.value.forEach(u=>{u.isSelected=!1,u.isExpand=!1,u.subMenus.forEach(s=>{s.isSelected=!1})}),c.value.find(u=>u.series===o.value).subMenus[0].isSelected=!0,c.value.find(u=>u.series===o.value).isSelected=!0,c.value.find(u=>u.series===o.value).isExpand=!0;const a=h.seriesProductMap.get(o.value);e.updateProductList(a),e.currentProductList.length<9&&(e.startPage=0,e.endPage=9,n.value=0,l.value=9),v.value=e.currentProductList.slice(n.value,l.value),d.value=e.currentProductList.length,S.value=Math.ceil(d.value/9)}else e.addCurrentProductList(h.productAllInfo[0].subMenus),v.value=e.currentProductList.slice(n.value,l.value),d.value=e.currentProductList.length,S.value=Math.ceil(d.value/9),b.value=v.value[0].series,console.log("无路由时"+b.value)}),N(M,a=>{if(M.path==="/products"&&a.query.seriesId){o.value=a.query.seriesId,V.value=h.seriesProductMap.get(o.value),c.value.forEach(s=>{s.isSelected=!1,s.isExpand=!1,s.subMenus.forEach(g=>{g.isSelected=!1})}),c.value.find(s=>s.series===o.value).subMenus[0].isSelected=!0,c.value.find(s=>s.series===o.value).isSelected=!0,c.value.find(s=>s.series===o.value).isExpand=!0;const u=h.seriesProductMap.get(o.value);e.updateProductList(u),e.currentProductList.length<9&&(e.startPage=0,e.endPage=9,n.value=0,l.value=9),v.value=e.currentProductList.slice(n.value,l.value),d.value=e.currentProductList.length,S.value=Math.ceil(d.value/9),b.value=h.seriesMap.get(o.value).seriesName}}),(a,u)=>(_(),P("div",ue,[t("div",le,[t("div",re,[t("h1",null,f(m(p)("menu.products")),1),ne,t("p",null,f(m(p)("tentech")),1)])]),t("div",ce,[t("div",{class:"series-item",onClick:u[0]||(u[0]=s=>L.value=!L.value)},[t("h3",null,f(m(p)(b.value)),1),oe])]),t("div",{class:"series-table",style:k({height:L.value?c.value.length*48+"px":"0px"})},[(_(!0),P(I,null,E(c.value,(s,g)=>(_(),P("div",{class:"series-select-item",style:k({height:L.value?"48px":"0px",opacity:L.value?1:0}),onClick:z=>q(s)},[t("h3",null,f(m(p)(s.seriesTitle)),1)],12,ie))),256))],4),w(ee,null,{default:Q(()=>[w(te,{class:"my-bread","bread-crumb-list":F.value},null,8,["bread-crumb-list"]),t("div",de,[t("div",ve,[t("div",he,[t("h1",null,f(m(p)("menu.products")),1),t("p",null,f(m(p)("tentech")),1)]),t("div",pe,[(_(!0),P(I,null,E(c.value,(s,g)=>(_(),P("div",{class:R(["series-menus-item",{"series-active":s.isExpand}]),style:k({height:(s.isExpand,"48px")})},[t("div",{class:"menu-container",onClick:z=>q(s,g)},[t("h1",null,f(m(p)(s.seriesTitle)),1),_e],8,ge)],6))),256))])]),t("div",Pe,[t("div",fe,[(_(!0),P(I,null,E(v.value,(s,g)=>(_(),P("div",{class:R(["product-item",{"last-item":(g+1)%3===0}]),onClick:z=>$(s)},[t("div",Le,[t("img",{src:s.content.media[0].ResourcesUrl},null,8,Se),Me,be,s.isHotSell?(_(),P("div",xe,"hot")):W("",!0)]),t("div",ye,[t("h1",null,f(m(p)(s.productName)),1)])],10,me))),256))]),t("div",Ce,[w(se,{onChangeCurrentPage:U,"current-page":y.value,total:S.value,"product-count":d.value},null,8,["current-page","total","product-count"])])])])]),_:1})]))}});const Be=Z(Ie,[["__scopeId","data-v-1e66fa52"]]);export{Be as default};

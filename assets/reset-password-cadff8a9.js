import{g as se,M as oe,i as te,j as ne,r as t,a as i,c as u,f as s,b as T,w as ae,n as A,A as E,B as Z,t as f,p as c,F as le,d as re,k as R,N as x,D as F,l as ie,q as ue,s as ce,_ as de}from"./index-f6f5f496.js";import{t as ve}from"./test-human-35263425.js";const d=k=>(ue("data-v-caf6453c"),k=k(),ce(),k),pe={class:"container"},fe={class:"adaptive-container"},me={class:"info-container"},_e=d(()=>s("div",{class:"header"},null,-1)),ge={class:"view-container"},he={class:"card"},we={class:"card-header"},ye=d(()=>s("img",{src:"https://tentech.oss-cn-shenzhen.aliyuncs.com/logo/tentech-text-logo.png"},null,-1)),ke={key:0},$e={key:0,class:"input-container"},be={key:0,class:"loginNameError"},Ve={key:1,class:"loginNameError"},Ce=d(()=>s("p",null,"下一步",-1)),Ne=[Ce],Ee={key:1,class:"if-input-container"},Ie={class:"verification-code-container"},Se={class:"verification-code"},ze=["onUpdate:modelValue","onInput","onKeydown"],Pe={key:0,class:"code-error"},De=d(()=>s("p",null,"下一步",-1)),Be=[De],Ae={key:1},Re={class:"input-container"},Me={class:"input-password"},Le=["type"],Ue=["src"],Ke={key:0,class:"passwordError"},Te={class:"input-password"},Ze=["type"],xe=["src"],Fe={key:1,class:"passwordError"},He=d(()=>s("p",null,"提交",-1)),je=[He],Oe=d(()=>s("div",{class:"split-line2"},null,-1)),qe=d(()=>s("div",{class:"contact"},[s("p",null,"登录遇到问题?"),s("a",{href:"/"},"常见问题"),s("a",{href:"/"},"联系客服")],-1)),Ye={class:"copy-right bottom-info"},Ge=d(()=>s("a",{href:"/"},"隐私政策",-1)),Je=d(()=>s("a",{href:"/"},"使用条款",-1)),Qe=d(()=>s("p",null,[s("a",{class:"icp",href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank"},"粤ICP备2021034388号"),s("a",{class:"beian",href:"https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44030702004694",target:"_blank"},[s("img",{src:"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/beian.png"}),F("粤公网安备 44030702004694号")])],-1)),We=se({__name:"reset-password",setup(k){const{proxy:$}=oe();te(),ne();const g=t(!1),I=t(""),m=t(!1),S=t(""),b=t(!1),M=t(""),L=t(""),w=t(!1),z=t("");t(86);const V=t(!1),C=t(!1),h=t(!1),_=t(60),y=t(!1),P=t(!1),D=t(!1),B=t(!1),r=t(["","","",""]);t(""),t(""),t("");const a=t({loginName:"",password:"",confirmpassword:""}),H=t(!1);function U(o){const e=o,l=/^[0-9]{11}$/,n=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,v=l.test(e),p=n.test(e);return v?(L.value="phone",r.value=["","","",""],console.log("Valid phone number:",e),!0):p?(L.value="email",r.value=["","","","","",""],console.log("Valid email:",e),!0):(console.log("Invalid account:",e),a.value.loginName===""?z.value="不能为空":z.value="无效的邮箱或手机号",!1)}function j(o,e){if(e.length>1)for(let l=0;l<e.length;l++)console.log("zii",r.value.length),o+l<r.value.length&&(r.value[o+l]=e[l],$.$refs[`codeInput${o+l}`][0].focus());else r.value[o]=e}function K(){return r.value.every(o=>o.length===1&&!isNaN(o.length))?(console.log("验证码有效"),H.value=!0,!0):(M.value="验证码无效",console.log("验证码无效"),!1)}function O(o,e){const l=e.key;l==="Delete"||l==="Backspace"?q(o):(l==="ArrowLeft"||l==="ArrowRight")&&Y(o,l)}function q(o){console.log(`Delete key pressed in input at index ${o}.`),r.value[o]!==""?r.value[o]="":o-1>=0&&$.$refs[`codeInput${o-1}`][0].focus()}function Y(o,e){console.log(`${e} arrow key pressed in input at index ${o}.`),e==="ArrowRight"?o+1<r.value.length&&$.$refs[`codeInput${o+1}`][0].focus():o-1>=0&&$.$refs[`codeInput${o-1}`][0].focus()}function G(){g.value=!N(a.value.password),m.value=!N(a.value.confirmpassword);const o=a.value.password!==a.value.confirmpassword;o?(S.value="两次输入密码不一致",m.value=!0):S.value="",!o&&!g.value&&m.value}function N(o){return/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[@#$%^&+=.])(?=\S+$).{6,20}$/.test(o)?(console.log("密码合法"),!0):(a.value.password===""?I.value="密码为空":I.value="密码不合法",!1)}function J(){P.value=!y.value,w.value=!U(a.value.loginName),y.value&&!w.value&&(D.value=!0,Q(),console.log("成功"))}function Q(){let o=setInterval(()=>{_.value>0?_.value--:(h.value=!0,clearInterval(o))},1e3)}function W(o){return`${o.getFullYear()}`}function X(){if(K()){const o=r.value.join("");this.codeStr=o,console.log("验证码正确"),B.value=!0,b.value=!1}else b.value=!0}function ee(){h.value=!1,_.value=60}return(o,e)=>{const l=ie("router-link");return i(),u("div",pe,[s("div",fe,[s("div",me,[_e,s("div",ge,[s("div",he,[s("div",we,[T(l,{to:"/"},{default:ae(()=>[ye]),_:1})]),B.value?c("",!0):(i(),u("div",ke,[D.value?c("",!0):(i(),u("div",$e,[s("p",{style:A({color:w.value?"#f00":"#000"})},"请输入已经注册的手机号/邮箱",4),E(s("input",{class:"phone-or-email",type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>a.value.loginName=n),onClick:e[1]||(e[1]=n=>w.value=!1),onBlur:e[2]||(e[2]=n=>U(a.value.loginName))},null,544),[[Z,a.value.loginName]]),w.value?c("",!0):(i(),u("p",be,f(z.value),1)),T(ve,{onTimeOut:e[3]||(e[3]=n=>y.value=!1),onSuccessEvent:e[4]||(e[4]=n=>{y.value=!0,P.value=!1}),ref:"childComponentRef"},null,512),P.value?(i(),u("p",Ve,"请按提示完成验证")):c("",!0),s("div",{class:"next-setup",onClick:J},Ne)])),D.value?(i(),u("div",Ee,[s("div",Ie,[s("p",null,"验证码已发送到"+f(a.value.loginName),1),s("div",Se,[(i(!0),u(le,null,re(r.value,(n,v)=>(i(),u("div",{class:"code-item",key:v},[E(s("input",{type:"text",class:"code-input",ref_for:!0,ref:`codeInput${v}`,"onUpdate:modelValue":p=>r.value[v]=p,onClick:e[5]||(e[5]=p=>b.value=!1),onInput:p=>j(v,p.target.value),onKeydown:p=>O(v,p),onBlur:K},null,40,ze),[[Z,r.value[v]]])]))),128))]),h.value?c("",!0):(i(),u("div",{key:0,class:R(["resend-button",{"resend-code":h.value}])},f(_.value===0?"":_.value)+"重新发送 ",3)),h.value?(i(),u("div",{key:1,class:R(["resend-button",{"resend-code":h.value}]),onClick:ee},f(_.value===0?"":_.value)+"重新发送 ",3)):c("",!0)]),b.value?(i(),u("p",Pe,f(M.value),1)):c("",!0),s("div",{class:"next-setup",onClick:X},Be)])):c("",!0)])),B.value?(i(),u("div",Ae,[s("div",Re,[s("p",{style:A({color:g.value?"#f00":"#000"})},"密码",4),s("div",Me,[E(s("input",{class:"password-input no-eye-icon",type:V.value?"text":"password","onUpdate:modelValue":e[6]||(e[6]=n=>a.value.password=n),onClick:e[7]||(e[7]=n=>{g.value=!1,m.value=!1}),onBlur:e[8]||(e[8]=n=>N(a.value.password))},null,40,Le),[[x,a.value.password]]),s("img",{src:V.value?"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/passwordVisible.svg":"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/passwordNoVisible.svg",onClick:e[9]||(e[9]=n=>{V.value=!V.value,g.value=!1})},null,8,Ue)]),g.value?(i(),u("p",Ke,f(I.value),1)):c("",!0),s("p",{style:A({color:m.value?"#f00":"#000"})},"再次输入确认密码",4),s("div",Te,[E(s("input",{class:"password-input no-eye-icon",type:C.value?"text":"password","onUpdate:modelValue":e[10]||(e[10]=n=>a.value.confirmpassword=n),onClick:e[11]||(e[11]=n=>m.value=!1),onBlur:e[12]||(e[12]=n=>N(a.value.confirmpassword))},null,40,Ze),[[x,a.value.confirmpassword]]),s("img",{src:C.value?"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/passwordVisible.svg":"https://com2024.oss-cn-shenzhen.aliyuncs.com/image/passwordNoVisible.svg",onClick:e[13]||(e[13]=n=>C.value=!C.value)},null,8,xe)]),m.value?(i(),u("p",Fe,f(S.value),1)):c("",!0),s("div",{class:R(["submit-button",{"is-human-submit":y.value}]),onClick:G},je,2)])])):c("",!0),Oe,qe])]),s("div",Ye,[s("p",null,[F("Copyright © 2018-"+f(W(new Date))+" Lucky fortune 全德视讯 版权所有 ",1),Ge,Je]),Qe])])])])}}});const ss=de(We,[["__scopeId","data-v-caf6453c"]]);export{ss as default};
